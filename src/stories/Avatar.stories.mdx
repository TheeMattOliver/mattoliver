import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs"

import GlobalStyles from "../components/GlobalStyles"
import { ThemeProvider } from "../components/ThemeProvider"
import { Avatar } from "../components/Avatar"

<Meta
  title="Components/Avatar"
  component={Avatar}
  argTypes={{
    loading: {
      control: "boolean",
      description:
        "Use the loading state to indicate that the data Avatar needs is still loading.",
      table: {
        type: { summary: "boolean" },
        defaultValue: { summary: false },
      },
    },
    username: {
      description:
        "Avatar falls back to the user’s initial when no image is provided. Supply a `username` and omit `src` to see what this looks like.",
      table: {
        defaultValue: {
          summary: "loading",
        },
      },
    },
    src: {
      description: "The URL of the Avatar's image.",
      table: {
        defaultValue: {
          summary: null,
        },
      },
    },
    size: {
      description: "Avatar comes in five sizes. In most cases, use `medium`.",
      table: {
        defaultValue: {
          summary: "medium",
        },
      },
    },
  }}
/>

# Avatar

## Typically displays an image that represents a user or organization, but here, it's just me

Use an avatar for attributing actions or content to specific users.

The user's name should be present when using Avatar – either printed beside the avatar or in a tooltip.

export const Template = args => {
  return (
    <ThemeProvider>
      <GlobalStyles />
      <Avatar {...args} />
    </ThemeProvider>
  )
}

<Story
  name="standard"
  args={{
    size: "large",
    username: "Matt Oliver",
    src: "https://avatars.githubusercontent.com/u/9900326?v=4",
  }}
>
  {Template.bind({})}
</Story>

<ArgsTable story="standard" />

## Usage

Avatar is used to represent a person or an organization. By default the avatar shows an image and gracefully falls back to the first initial of the username. While hydrating the component you may find it useful to render a skeleton template to indicate that Avatar is awaiting data. Avatars can be grouped with the AvatarList component.

### Sizes

6 sizes are supported.

<Story name="sizes">
  <div>
    <Avatar
      size="jumbo"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
    <Avatar
      size="xl"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
    <Avatar
      size="large"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
    <Avatar
      size="medium"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
    <Avatar
      size="small"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
    <Avatar
      size="xs"
      username="Matt Oliver"
      src="https://avatars.githubusercontent.com/u/9900326?v=4"
    />
  </div>
</Story>

### Default Values

When no image is supplied to the `src` prop, Avatar displays initials.

Avatar should be used sparingly in situations without access to images.

<Story name="initials">
  <div>
    <Avatar size="jumbo" username="Matt Oliver" />
    <Avatar size="xl" username="Matt Oliver" />
    <Avatar size="large" username="Matt Oliver" />
    <Avatar size="medium" username="Matt Oliver" />
    <Avatar size="small" username="Matt Oliver" />
    <Avatar size="xs" username="Matt Oliver" />
  </div>
</Story>

### Loading

The loading state is used when the image or username is loading.

<Story name="loading">
  <div>
    <Avatar size="jumbo" loading />
    <Avatar size="xl" loading />
    <Avatar size="large" loading />
    <Avatar size="medium" loading />
    <Avatar size="small" loading />
    <Avatar size="xs" loading />
  </div>
</Story>

### Playground

Experiment with this story with the Controls addon in the Canvas tab.

<Canvas>
  <Story
    name="controls"
    args={{
      loading: false,
      size: "medium",
      username: "Matt Oliver",
      src: "https://avatars.githubusercontent.com/u/9900326?v=4",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
